#!/usr/bin/env node

const { execSync } = require('child_process')
 
const repoName = process.argv[2] || "./"
const gitURL = 'https://github.com/duyk30b/npm--create-fakeapi.git';
const gitCloneCommand = `git clone ${gitURL} ${repoName}`;
const installCommand = `cd ${repoName} && npm install`;
const startCommand = `npm start`;
 
try {
    console.log("-- Start Git Clone--");
    execSync(gitCloneCommand);
    console.log("-- Complete Git Clone--");
    console.log("-- StartInstall Dependencies--");
    execSync(installCommand);
    console.log("-- Complete Install Dependencies--");
    console.log("-- Start Server On: http://localhost:7777");
    execSync(startCommand);
} catch (error) {
    process.exit(-1);
}
console.log('Congratulation ! You are Ready :D');